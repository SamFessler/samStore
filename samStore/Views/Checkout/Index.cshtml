@model samStore.Models.CheckoutModel

@{
    ViewBag.Title = "Checkout";

    var Countries = new List<SelectListItem>
    {
        new SelectListItem() {Text="",Value="" },
        new SelectListItem() {Text = "USA", Value ="USA" },
        new SelectListItem() {Text = "Canada", Value ="Canada" }
    };

    var finalstates = new List<SelectListItem>
    {

    };
    var statesCanada = new List<SelectListItem>
    {
        new SelectListItem { Value = "QB", Text = "Qubeck" },
        new SelectListItem { Value = "AK", Text = "Alaska" },
        new SelectListItem { Value = "AZ", Text = "Arizona" },
        new SelectListItem { Value = "AR", Text = "Arkansas" },
        new SelectListItem { Value = "CA", Text = "California" },


    };

    var statesUSA = new List<SelectListItem> {
                    new SelectListItem { Value = "AL", Text = "Alabama" },
                    new SelectListItem { Value = "AK", Text = "Alaska" },
                    new SelectListItem { Value = "AZ", Text = "Arizona" },
                    new SelectListItem { Value = "AR", Text = "Arkansas" },
                    new SelectListItem { Value = "CA", Text = "California" },
                    new SelectListItem { Value = "CO", Text = "Colorado" },
                    new SelectListItem { Value = "CT", Text = "Connecticut" },
                    new SelectListItem { Value = "DE", Text = "Delaware" },
                    new SelectListItem { Value = "FL", Text = "Florida" },
                    new SelectListItem { Value = "GA", Text = "Georgia" },
                    new SelectListItem { Value = "HI", Text = "Hawaii" },
                    new SelectListItem { Value = "ID", Text = "Idaho" },
                    new SelectListItem { Value = "IL", Text = "Illinois" },
                    new SelectListItem { Value = "IN", Text = "Indiana" },
                    new SelectListItem { Value = "IA", Text = "Iowa" },
                    new SelectListItem { Value = "KS", Text = "Kansas" },
                    new SelectListItem { Value = "KY", Text = "Kentucky" },
                    new SelectListItem { Value = "LA", Text = "Louisiana" },
                    new SelectListItem { Value = "ME", Text = "Maine" },
                    new SelectListItem { Value = "MD", Text = "Maryland" },
                    new SelectListItem { Value = "MA", Text = "Massachusetts" },
                    new SelectListItem { Value = "MI", Text = "Michigan" },
                    new SelectListItem { Value = "MN", Text = "Minnesota" },
                    new SelectListItem { Value = "MS", Text = "Mississippi" },
                    new SelectListItem { Value = "MO", Text = "Missouri" },
                    new SelectListItem { Value = "MT", Text = "Montana" },
                    new SelectListItem { Value = "NC", Text = "North Carolina" },
                    new SelectListItem { Value = "ND", Text = "North Dakota" },
                    new SelectListItem { Value = "NE", Text = "Nebraska" },
                    new SelectListItem { Value = "NV", Text = "Nevada" },
                    new SelectListItem { Value = "NH", Text = "New Hampshire" },
                    new SelectListItem { Value = "NJ", Text = "New Jersey" },
                    new SelectListItem { Value = "NM", Text = "New Mexico" },
                    new SelectListItem { Value = "NY", Text = "New York" },
                    new SelectListItem { Value = "OH", Text = "Ohio" },
                    new SelectListItem { Value = "OK", Text = "Oklahoma" },
                    new SelectListItem { Value = "OR", Text = "Oregon" },
                    new SelectListItem { Value = "PA", Text = "Pennsylvania" },
                    new SelectListItem { Value = "RI", Text = "Rhode Island" },
                    new SelectListItem { Value = "SC", Text = "South Carolina" },
                    new SelectListItem { Value = "SD", Text = "South Dakota" },
                    new SelectListItem { Value = "TN", Text = "Tennessee" },
                    new SelectListItem { Value = "TX", Text = "Texas" },
                    new SelectListItem { Value = "UT", Text = "Utah" },
                    new SelectListItem { Value = "VT", Text = "Vermont" },
                    new SelectListItem { Value = "VA", Text = "Virginia" },
                    new SelectListItem { Value = "WA", Text = "Washington" },
                    new SelectListItem { Value = "WV", Text = "West Virginia" },
                    new SelectListItem { Value = "WI", Text = "Wisconsin" },
                    new SelectListItem { Value = "WY", Text = "Wyoming" }
                };


}

<h2>Checkout Page</h2>

@using (Html.BeginForm())
{
    //this runs a anti forgery hash check to make sure ip address is correct and noone has stolen form data
    @Html.AntiForgeryToken()

    if (!ViewContext.ViewData.ModelState.IsValid)
    {
        @Html.ValidationSummary(false, null, new { @class = "alert alert-danger" })
    }


    <div class="form-group">
        @Html.LabelFor(x => x.ShippingAddress1, new {@class="control-label"})
        @Html.TextBoxFor(x => x.ShippingAddress1, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.ShippingAddress1)
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.ShippingAddress2, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.ShippingAddress2, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.ShippingCity, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.ShippingCity, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.ShippingCity)
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.ShippingState, new { @class = "control-label" })
        @Html.DropDownListFor(x => x.ShippingState, states, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.ShippingState)
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.ShippingCountry, new { @class = "control-label" })
        @Html.DropDownListFor(x => x.ShippingCountry, Countries, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.ShippingCountry)
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.ShippingZip, new { @class = "control-label" })
        @Html.TextBoxFor(x => x.ShippingZip, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.ShippingZip)
    </div>
    <input type="submit" value="Place Order" class="btn btn-danger" />
}

@section Scripts{
    <script type="text/javascript">
        $(document).ready(function ()
        {
            $

            $("#ShippingCountry").change(function ()
            {
                if (this.value == "USA")
                {
                    @finalstates === @statesUSA 
                }
                else if (this.value == "Canada")
                {

                }
            })


        })
        
    </script>
    
    }

